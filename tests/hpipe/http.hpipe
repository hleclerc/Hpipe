# read until end 
read[ name, end = 10 | 13 ] = beg_str_next[ name ] ( any - end )** end_str_next[ name ]

get =
    'GET ' read[ 'url', ' ' ] (
        ( 10 's: ' read[ 's' ] ) |
        ( 10 'tu: ' read[ 'tu' ] ) |
        any
    )**
    { os << url << " s:" << s; }

main = get

beg_training
    input
        GET /smurf HTTP/1.1
        s: 17

    freq
        1
end_training

beg_test GET /smurf HTTP/1.1
    input
        GET /smurf HTTP/1.1
        s: 17

    output
        /smurf s:17 status=OK
end_test
